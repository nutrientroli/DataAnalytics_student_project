install.packages("rmarkdown")
help()
x<-10
x=15
x
x
x<-raul
x<-"raul"
x<-'raul'
x<-'hola'
x
10<-2
x =
7
x<-13
x+y
y
x<-13
y<-45
x<-13
y<-45
x
y
x+y
x=0
x<-10
x
x<-c(1:30)
x
x<-seq(1,30)
x<-seq(1,30,0.5)
x
?seq
x<-seq(from=1,to=30,by=0.5)
x
x<-seq(to=10,from=5,by=0.25)
x
x<-rep(20,15)
x
x<-seq(from=1,to=10)
y<-seq(from=15,to=-3,by=-2)
x+y
z<-rep(2,11)
x+z
x-y
x+2
x^y
sum(x)
prod(x)
?sort
is.nan(prod(x))
str(x)
x[3]
x[4:6]
x[c(4,5,6)]
x[c(4,6,7)]
x[- c(4,6,7)]
x>y
x>z
v<-c(-10:10)
v>0
v[v>0]
wich(x>0)
which(x>0)
which(v>0)
v[which(v>0)]
n<-c(3,4,7,2)
n[which.max(n)]
which(n[which.max(n)])
n[which.max(n)]
n[which.max(n)]<-n[which.min(n)]
n
n<-c(3,4,7,2)
n[which.max(n)]<-min(n)
x<-seq(1:3)
y<-rep(x,3)
z<-seq(from=0,to=100,by=10)
w<-seq(from=1000,to=0,by=-100)
v<-rep(1,5)
x<-seq(from=1500,to=500,by=-2)
sum(x)
mean(x)
range(x)
max(x)
min(x)
sor(x,FALSE)
sort(x,FALSE)
sort(x,TRUE)
x<-seq(1:20)
x<-x-1
sqrt(x)
v1<-c(0:20)
v2<-c(-10:10)
v2<-v2+3
vsum<-v1+v2
vsum<-vsum[which(vsum>=0)]
quantity<-c(20,3,4,5,6,7,8,5,2,12)
price<-c(2,4,5,63,40,21,12,6,7,4)
pricetotal<-sum(quantity*price)
x<-c(3,4,6,-5,1,3,9,10,-1,0,-4)
y<-c(-4,4,6,5,1,3,9,1,-10,5,14)
which(x>=0)
lenght(which(x>=0))
length(which(x>=0))
studies<-c("n","p","s","p","s","t","o","s","o","p","p","s","s","t","p","t","o","n","p","o")
studies<-factor(c("n","p","s","p","s","t","o","s","o","p","p","s","s","t","p","t","o","n","p","o"))
nlevels(studies)
levels(studies)
which(studies,levels(studies))
which(x>y)
which(x==y)
as.numeric(studies)
as.numeric(levels(studies))
sum(x)
?which
?factor
nmax(studies)
x<-c(3,4,6,-5,1,3,9,10,-1,0,-4)
y<-c(-4,4,6,5,1,3,9,1,-10,5,14)
length(which(x>=0))
which(x>y)
x<-which(x!=y)
#6
x<-c(3,4,6,-5,1,3,9,10,-1,0,-4)
y<-c(-4,4,6,5,1,3,9,1,-10,5,14)
length(which(x>=0))  # or length(x[x>0])
which(x>y)
x<-which(x!=y)
x<-c(3,4,6,-5,1,3,9,10,-1,0,-4)
y<-c(-4,4,6,5,1,3,9,1,-10,5,14)
length(which(x>=0))  # or length(x[x>0])
which(x>y)
x<-x[which(x!=y)]
studies<-factor(c("n","p","s","p","s","t","o","s","o","p","p","s","s","t","p","t","o","n","p","o"))
nlevels(studies)
levels(studies)
levels(studies)<-c("none","other","primary","secondary","tertiary")
levels(studies)
levels(studies)<-c("none","other","primary","secondary","tertiary","extra")
levels(studies)
levels(studies)<-c("none","other","primary","secondary","tertiary")
levels(studies)
table(studies)
barplot(table(studies))
myList<-list(5:8,"Ruiz",c(5.6,4.6), c(F,T))
View(myList)
view(myList)
View(myList)
View(myList)
myList[1]
myList[[1][1]]
mym<-matrix(c(1:20), ncol=5)
View(mym)
mym[2,3]
mym[2,]
mym[2:3]
mym[2:3,4:5]
as.data.frame(mym)
mym<-as.data.frame(mym)
customers<-c("Ann","John","Joseph","Marie")
ages<-c(32,45,21,20)
sex<-c("F","M","M","F")
city<-c("1","2","3","4")
data<-data.frame(customers,ages,sex,city)
View(mym)
View(data)
region<-c("qwer","asd")
data<-cbind(data,region)
View(data)
data$city
mean(data$ages)
region2<-c("qwer","asd","erer")
data<-cbind(data,region2)
which(data$ages>30)
data[[which(data$ages>30)]]
data[which(data$ages>30)]
data[,data$ages>30)]
data[,data$ages>30]
data[data$ages>30,]
View(data)
install<-c(100,50,70)
D7<-c(45,23,30)
D30<-c(10,3,15)
result<-c(sum(D7)/sum(install), sum(D30)/sum(install))
result<-result*100
str(result)
players<-c(1000,10000,100000)
ARPU1<-0.05
ARPU2<-3
revenue1<-players*ARPU1
revenue2<-players*ARPU2
plot(revenue1)
plot(revenue1, type="l")
plot(revenue1, type="l")
linne(revenue2, col="blue")
plot(revenue1, type="l")
lines(revenue2, col="blue")
options(scipen=999)
revenue2<-players*ARPU2
plot(revenue1, type="l")
lines(revenue2, col="blue")
plot(revenue2, type="l")
lines(revenue1, col="blue")
plot(revenue2, type="l", ylab="Revenue", xlab="samples")
lines(revenue1, col="blue")
plot(revenue2, type="l", ylab="Revenue", xlab="Index Users")
lines(revenue1, col="blue")
setwd("D:/Projects/UnityProjects/DataAnalytics_student_project")
# Librerias en uso
library("knitr")
library("dplyr")
library("lubridate")
library("ggplot2")
# Librerias en uso
library("knitr")
library("dplyr")
library("lubridate")
library("ggplot2")
trackingData = read.csv("tracking.csv",sep = ",",na.strings = "NA")
colnames(trackingData)[4] = "SessionLenght"
colnames(trackingData)[5] = "MoneySpent"
daysOfTracking = length(  unique(trackingData$Date))
daysOfTracking
usersData = read.csv("users.csv",sep = ",", na.strings ="NA")
usersInstalledTheGame = unique( trackingData$UserID[trackingData$Action == "Install"])
usersInstalledGameAmount = length(usersInstalledTheGame)
usersInstalledGameAmount
View(usersData)
View(trackingData)
usersDataInstalledTheGame=unique(trackingData$                 UserID[trackingData$Action == "Install"])
usersDataInstalledTheGame=c(unique(trackingData$                 UserID[trackingData$Action == "Install"]))
usersDataInstalledTheGame
#usersDataInstalledTheGame=matrix(unique(trackingData$                 UserID[trackingData$Action == "Install"]),
usersDataInstalledTheGame = trackingData[which(trackingData$Action == "Install")]
#usersDataInstalledTheGame=matrix(unique(trackingData$                 UserID[trackingData$Action == "Install"]),
usersDataInstalledTheGame = trackingData[which(trackingData$Action == "Install"),]
View(usersData)
View(usersDataInstalledTheGame)
#usersDataInstalledTheGame=matrix(unique(trackingData$                 UserID[trackingData$Action == "Install"]),
usersDataInstalledTheGame = trackingData[,which(trackingData$Action == "Install")]
#usersDataInstalledTheGame=matrix(unique(trackingData$                 UserID[trackingData$Action == "Install"]),
usersDataInstalledTheGame = trackingData[which(trackingData$Action == "Install"),'Date']
#usersDataInstalledTheGame=matrix(unique(trackingData$                 UserID[trackingData$Action == "Install"]),
usersDataInstalledTheGame = trackingData[which(trackingData$Action == "Install"),'Date' & 'UserID']
#usersDataInstalledTheGame=matrix(unique(trackingData$                 UserID[trackingData$Action == "Install"]),
usersDataInstalledTheGame = trackingData[which(trackingData$Action == "Install"),'Date' && 'UserID']
#usersDataInstalledTheGame=matrix(unique(trackingData$                 UserID[trackingData$Action == "Install"]),
usersDataInstalledTheGame = trackingData[which(trackingData$Action == "Install"),]
#usersDataInstalledTheGame=matrix(unique(trackingData$                 UserID[trackingData$Action == "Install"]),
temp = trackingData[which(trackingData$Action == "Install"),]
usersDataInstalledTheGame = data.frame(temp$UserID, temp$Date)
#Borrar al acabar------------------/
trackingData = read.csv("tracking.csv",sep = ",",na.strings = "NA")
#Borrar al acabar------------------/
trackingData = read.csv("tracking.csv",sep = ",",na.strings = "NA")
colnames(trackingData)[4] = "SessionLenght"
colnames(trackingData)[5] = "MoneySpent"
#----------------------------------/
temp = trackingData[which(trackingData$Action == "Install"),]
usersDateInstalledTheGame = data.frame(temp$UserID, temp$Date)
View(usersDateInstalledTheGame)
usersDateInstalledTheGame = data.frame(UserID=temp$UserID, Date=temp$Date)
View(temp)
temp
temp
temp = trackingData[which(trackingData$Action == "Install"),]
usersDateInstalledTheGame = data.frame(UserID=temp$UserID, Date=temp$Date)
temp = trackingData[which(trackingData$Action == "Uninstall"),]
usersDateUninstalledTheGame = data.frame(UserID=temp$UserID, Date=temp$Date)
View(usersDateUninstalledTheGame)
usersDatesLifeTime<-merge(usersDateInstalledTheGame, usersDateUninstalledTheGame, all.x=TRUE)
View(usersDatesLifeTime)
a<-data.frame(id=c(1,2,3), name_1=c('a','b','c'), stringsAsFactors = FALSE)
b<-data.frame(id=c(2,3), name_2=c('b result','c result'), stringsAsFactors = FALSE)
c<-merge(a,b) #inner join (solo los que hay combinacion)
View(a)
View(c)
View(b)
c<-merge(a,b, all.x=TRUE) #Left join (la tabla 'a' se mantiene y se aÃ±ade las filas de la 'b') solo mantiene las filas del 'a'
temp = trackingData[which(trackingData$Action == "Install"),]
#Borrar al acabar------------------/
trackingData = read.csv("tracking.csv",sep = ",",na.strings = "NA")
colnames(trackingData)[4] = "SessionLenght"
colnames(trackingData)[5] = "MoneySpent"
temp = trackingData[which(trackingData$Action == "Install"),]
usersDateInstalledTheGame = data.frame(UserID=temp$UserID, DateInstall=temp$Date)
temp = trackingData[which(trackingData$Action == "Uninstall"),]
usersDateUninstalledTheGame = data.frame(UserID=temp$UserID, DateUnistall=temp$Date)
usersDatesLifeTime<-merge(usersDateInstalledTheGame,usersDateUninstalledTheGame, all.x=TRUE)
View(usersDatesLifeTime)
usersDatesLifeTime<-merge(usersDateInstalledTheGame,usersDateUninstalledTheGame, all.y=TRUE)
View(usersDatesLifeTime)
#Borrar al acabar------------------/
trackingData = read.csv("tracking.csv",sep = ",",na.strings = "NA")
colnames(trackingData)[4] = "SessionLenght"
colnames(trackingData)[5] = "MoneySpent"
temp = trackingData[which(trackingData$Action == "Session"),]
usersDateInstalledTheGame = data.frame(UserID=temp$UserID, Date=temp$Date, Money=temp$MoneySpent)
#Borrar al acabar------------------/
trackingData = read.csv("tracking.csv",sep = ",",na.strings = "NA")
colnames(trackingData)[4] = "SessionLenght"
colnames(trackingData)[5] = "MoneySpent"
temp = trackingData[which(trackingData$Action == "Session"),]
usersDateSessionsMoneySpent = data.frame(UserID=temp$UserID, Date=temp$Date, Money=temp$MoneySpent)
View(usersDateSessionsMoneySpent)
sum(usersDateSessionsMoneySpent$Money)
summarise(group_by(usersDateSessionsMoneySpent,Date),sum(Money))
summarise(group_by(usersDateSessionsMoneySpent,Date),Revenue=sum(Money))
temp = trackingData[which(trackingData$Action == "Session"),]
usersDateSessionsMoneySpent = data.frame(UserID=temp$UserID, Date=temp$Date, Money=temp$MoneySpent, DateMonth=month(as.POSIXlt(temp$Date, format="%d/%m/%Y")))
usersDateSessionsMoneySpent = data.frame(UserID=temp$UserID, Date=temp$Date, Money=temp$MoneySpent, DateMonth=month(as.POSIXlt(trackingData$Date, format="%yyyy/%mm/%dd")))
temp = trackingData[which(trackingData$Action == "Session"),]
usersDateSessionsMoneySpent = data.frame(UserID=temp$UserID, Date=temp$Date, Money=temp$MoneySpent, DateMonth=month(as.POSIXlt(trackingData$Date, format="%Y/%M/%D")))
temp = trackingData[which(trackingData$Action == "Session"),]
usersDateSessionsMoneySpent = data.frame(UserID=temp$UserID, Date=temp$Date, Money=temp$MoneySpent, DateMonth=month(as.POSIXlt(trackingData$Date, format="%Y/%m/%d")))
temp = trackingData[which(trackingData$Action == "Session"),]
usersDateSessionsMoneySpent = data.frame(UserID=temp$UserID, Date=temp$Date, Money=temp$MoneySpent, DateMonth=month(as.POSIXlt(temp$Date, format="%Y/%m/%d")))
temp = trackingData[which(trackingData$Action == "Session"),]
usersDateSessionsMoneySpent = data.frame(UserID=temp$UserID, Date=temp$Date, Money=temp$MoneySpent)
DateMonth=month(as.POSIXlt(temp$Date, format="%Y/%m/%d"))
DateMonth=month(as.POSIXlt(temp$Date, format="%Y-%m-%d"))
temp = trackingData[which(trackingData$Action == "Session"),]
usersDateSessionsMoneySpent = data.frame(UserID=temp$UserID, Date=temp$Date, Money=temp$MoneySpent, DateMonth=month(as.POSIXlt(temp$Date, format="%Y-%m-%d")))
sum(usersDateSessionsMoneySpent$Money)
summarise(group_by(usersDateSessionsMoneySpent,Date),Revenue=sum(Money))
summarise(group_by(usersDateSessionsMoneySpent,DateMonth),Revenue=sum(Money))
#Borrar al acabar------------------/
trackingData = read.csv("tracking.csv",sep = ",",na.strings = "NA")
colnames(trackingData)[4] = "SessionLenght"
colnames(trackingData)[5] = "MoneySpent"
usersData = read.csv("users.csv",sep = ",", na.strings ="NA")
View(usersData)
temp = trackingData[which(trackingData$Action == "Session"),]
usersDateSessionsMoneySpent = data.frame(UserID=temp$UserID, Money=temp$MoneySpent)
usersDateSessionsMoneySpent2 = usersDateSessionsMoneySpent[, usersDateSessionsMoneySpent$Money > 0]
usersDateSessionsMoneySpent2 = usersDateSessionsMoneySpent[ usersDateSessionsMoneySpent$Money > 0,]
View(usersDateSessionsMoneySpent2)
usersDateSessionsMoneySpent3 = usersDateSessionsMoneySpent[ usersDateSessionsMoneySpent$Money <= 0,]
View(usersDateSessionsMoneySpent3)
#Borrar al acabar------------------/
trackingData = read.csv("tracking.csv",sep = ",",na.strings = "NA")
colnames(trackingData)[4] = "SessionLenght"
colnames(trackingData)[5] = "MoneySpent"
usersData = read.csv("users.csv",sep = ",", na.strings ="NA")
temp = trackingData[which(trackingData$Action == "Session"),]
usersDateSessionsMoneySpent = data.frame(UserID=temp$UserID, Money=temp$MoneySpent)
usersDateSessionsMoneySpent = unique(usersDateSessionsMoneySpent[ usersDateSessionsMoneySpent$Money > 0,])
#Borrar al acabar------------------/
trackingData = read.csv("tracking.csv",sep = ",",na.strings = "NA")
colnames(trackingData)[4] = "SessionLenght"
colnames(trackingData)[5] = "MoneySpent"
usersData = read.csv("users.csv",sep = ",", na.strings ="NA")
temp = trackingData[which(trackingData$Action == "Session"),]
usersMoneySpent = data.frame(UserID=temp$UserID, Money=temp$MoneySpent)
usersMoneySpent = unique(usersMoneySpent[usersMoneySpent$Money>0,])
View(usersMoneySpent)
temp = trackingData[which(trackingData$Action == "Session"),]
usersMoneySpent = data.frame(UserID=temp$UserID, Money=temp$MoneySpent)
usersMoneySpent = unique(usersMoneySpent[usersMoneySpent$Money>0,]$UserID)
usersMoneySpent = data.frame(UserID=temp$UserID, Money=temp$MoneySpent)
usersMoneySpent = c(unique(usersMoneySpent[usersMoneySpent$Money>0,]$UserID))
usersMoneySpent = unique(usersMoneySpent[usersMoneySpent$Money>0,]$UserID)
usersMoneySpent = data.frame(UserID=temp$UserID, Money=temp$MoneySpent)
usersMoneySpent = unique(usersMoneySpent[usersMoneySpent$Money>0,]$UserID)
usersMoneySpent = data.frame(UserID=temp$UserID, Money=temp$MoneySpent)
usersMoneySpent = c(unique(usersMoneySpent[usersMoneySpent$Money>0,]$UserID))
usersMoneySpent
temp = trackingData[which(trackingData$Action == "Session"),]
usersMoneySpent = data.frame(UserID=temp$UserID, Money=temp$MoneySpent)
usersMoneySpent = usersMoneySpent[usersMoneySpent$Money>0,]
temp = trackingData[which(trackingData$Action == "Session"),]
usersMoneySpent = data.frame(UserID=temp$UserID, Money=temp$MoneySpent)
usersMoneySpent = usersMoneySpent[usersMoneySpent$Money>0,]
usersMoneySpent2 = summarise(group_by(usersMoneySpent,UserID),Revenue=sum(Money))
View(usersMoneySpent2)
temp = trackingData[which(trackingData$Action == "Session"),]
usersMoneySpent = data.frame(UserID=temp$UserID, Money=temp$MoneySpent)
usersMoneySpent = usersMoneySpent[usersMoneySpent$Money>0,]
usersMoneySpent = summarise(group_by(usersMoneySpent,UserID),Revenue=sum(Money))
temp = trackingData[which(trackingData$Action == "Session"),]
usersMoneySpent = data.frame(UserID=temp$UserID, Money=temp$MoneySpent)
usersMoneySpent = usersMoneySpent[usersMoneySpent$Money>0,]
usersMoneySpent = data.frame(summarise(group_by(usersMoneySpent,UserID),Revenue=sum(Money)))
nrow(usersMoneySpent)
nrow(usersMoneySpent)
nrow(usersData)
usersTotal = data.frame(summarise(group_by(usersData,UserID)))
CR = nrow(usersMoneySpent)/nrow(usersData)
#Borrar al acabar------------------/
trackingData = read.csv("tracking.csv",sep = ",",na.strings = "NA")
colnames(trackingData)[4] = "SessionLenght"
colnames(trackingData)[5] = "MoneySpent"
temp = trackingData[which(trackingData$Action == "Session"),]
usersDateSessionsMoneySpent = data.frame(UserID=temp$UserID, Date=temp$Date, Money=temp$MoneySpent, DateMonth=month(as.POSIXlt(temp$Date, format="%Y-%m-%d")))
TotalRevenue = sum(usersDateSessionsMoneySpent$Money)
#Borrar al acabar------------------/
trackingData = read.csv("tracking.csv",sep = ",",na.strings = "NA")
colnames(trackingData)[4] = "SessionLenght"
colnames(trackingData)[5] = "MoneySpent"
usersData = read.csv("users.csv",sep = ",", na.strings ="NA")
temp = trackingData[which(trackingData$Action == "Session"),]
usersDateSessionsMoneySpent = data.frame(UserID=temp$UserID, Date=temp$Date, Money=temp$MoneySpent, DateMonth=month(as.POSIXlt(temp$Date, format="%Y-%m-%d")))
TotalRevenue = sum(usersDateSessionsMoneySpent$Money)
UsersTotal = nrow(data.frame(summarise(group_by(usersData,UserID)))) #Por si hubieran user repetidos en el CSV
ARPU = TotalRevenue/UsersTotal
#Borrar al acabar------------------/
trackingData = read.csv("tracking.csv",sep = ",",na.strings = "NA")
colnames(trackingData)[4] = "SessionLenght"
colnames(trackingData)[5] = "MoneySpent"
usersData = read.csv("users.csv",sep = ",", na.strings ="NA")
temp = trackingData[which(trackingData$Action == "Session"),]
usersMoneySpent = data.frame(UserID=temp$UserID, Money=temp$MoneySpent)
usersMoneySpent = usersMoneySpent[usersMoneySpent$Money>0,]
usersMoneySpent = data.frame(summarise(group_by(usersMoneySpent,UserID),Revenue=sum(Money)))   # calculo de revenue por user hecho para otras secciones.
View(usersMoneySpent)
TotalRevenue = sum(usersMoneySpent$Revenue)
Users = nrow(data.frame(summarise(group_by(usersData,UserID))))
PayUsers = nrow(usersMoneySpent)
ARPU = TotalRevenue/Users
ARPPU = TotalRevenue/PayUsers
